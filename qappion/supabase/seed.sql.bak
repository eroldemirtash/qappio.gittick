-- QAPPION SEED DATA

-- Insert test profiles (these will need to be created after users sign up)
-- Note: These UUIDs are examples - real UUIDs will be generated by Supabase Auth

-- Insert brands
insert into public.brands (id, name, logo_url, created_by) values
  ('550e8400-e29b-41d4-a716-446655440001', 'Coffeely', 'https://via.placeholder.com/100/8B4513/FFFFFF?text=C', null),
  ('550e8400-e29b-41d4-a716-446655440002', 'SnackUp', 'https://via.placeholder.com/100/FF6B35/FFFFFF?text=S', null);

-- Insert stores with locations (Istanbul coordinates)
insert into public.stores (id, brand_id, name, lat, lng, radius_m) values
  ('660e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', 'Coffeely Kadıköy', 40.9916, 29.0252, 500),
  ('660e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440001', 'Coffeely Beşiktaş', 41.0422, 29.0100, 0),
  ('660e8400-e29b-41d4-a716-446655440003', '550e8400-e29b-41d4-a716-446655440002', 'SnackUp Taksim', 41.0369, 28.9857, 300);

-- Insert sample missions
insert into public.missions (id, brand_id, store_id, title, brief, media_type, reward_qp, deadline, status, lat, lng, radius_m) values
  (
    '770e8400-e29b-41d4-a716-446655440001',
    '550e8400-e29b-41d4-a716-446655440001',
    '660e8400-e29b-41d4-a716-446655440001',
    'Sabah Kahvesi Anın',
    'Coffeely''de sabah kahvenizin fotoğrafını çekin! En güzel sabah rituelinizi bizimle paylaşın. Kahve fincanınız, atmosfer ve o huzurlu anınızı yakalayın.',
    'photo',
    500,
    now() + interval '7 days',
    'published',
    40.9916,
    29.0252,
    500
  ),
  (
    '770e8400-e29b-41d4-a716-446655440002',
    '550e8400-e29b-41d4-a716-446655440002',
    null,
    'Sağlıklı Atıştırmalık Challenge',
    'SnackUp''ın yeni sağlıklı ürünlerini deneyin ve deneyiminizi kısa bir video ile paylaşın! Ürünü açma anından tadım yorumunuza kadar tüm süreci çekin.',
    'video',
    1000,
    now() + interval '10 days',
    'published',
    null,
    null,
    0
  ),
  (
    '770e8400-e29b-41d4-a716-446655440003',
    '550e8400-e29b-41d4-a716-446655440001',
    null,
    'Kahve Sanatı',
    'Barista yeteneklerinizi gösterin! Latte art, cappuccino köpüğü veya soğuk demleme tekniklerinizi fotoğraflayın. Yaratıcılığınızın sınırını zorlayın!',
    'photo',
    750,
    now() + interval '5 days',
    'published',
    null,
    null,
    0
  );

-- Insert sample rewards
insert into public.rewards (id, title, brand_id, image_url, cost_qp, stock) values
  ('880e8400-e29b-41d4-a716-446655440001', 'Coffeely 50 TL Hediye Çeki', '550e8400-e29b-41d4-a716-446655440001', 'https://via.placeholder.com/200/8B4513/FFFFFF?text=50TL', 500, 100),
  ('880e8400-e29b-41d4-a716-446655440002', 'SnackUp 100 TL Hediye Çeki', '550e8400-e29b-41d4-a716-446655440002', 'https://via.placeholder.com/200/FF6B35/FFFFFF?text=100TL', 1000, 50),
  ('880e8400-e29b-41d4-a716-446655440003', 'Coffeely Premium Üyelik (1 Ay)', '550e8400-e29b-41d4-a716-446655440001', 'https://via.placeholder.com/200/8B4513/FFFFFF?text=PREMIUM', 2500, 20),
  ('880e8400-e29b-41d4-a716-446655440004', 'SnackUp 250 TL Hediye Çeki', '550e8400-e29b-41d4-a716-446655440002', 'https://via.placeholder.com/200/FF6B35/FFFFFF?text=250TL', 2500, 25),
  ('880e8400-e29b-41d4-a716-446655440005', 'Coffeely Özel Kupa + Kahve Seti', '550e8400-e29b-41d4-a716-446655440001', 'https://via.placeholder.com/200/8B4513/FFFFFF?text=SET', 1500, 30),
  ('880e8400-e29b-41d4-a716-446655440006', 'SnackUp VIP Deneyim Paketi', '550e8400-e29b-41d4-a716-446655440002', 'https://via.placeholder.com/200/FF6B35/FFFFFF?text=VIP', 5000, 10);

-- Note: Test user profiles and sample submissions will be created after authentication setup
-- These can be added later with real user IDs

-- Sample levels for reference (these will be calculated dynamically)
-- L1: 0–999 QP → "Seeker"
-- L2: 1000–4999 → "Explorer" 
-- L3: 5000–14999 → "Creator"
-- L4: 15000–39999 → "Influencer"
-- L5: 40000+ → "Legend"

-- Grant execute permissions on functions
grant execute on function public.grant_points_for_submission to authenticated;
grant execute on function public.grant_points_for_like to authenticated;
grant execute on function public.toggle_like to authenticated;
